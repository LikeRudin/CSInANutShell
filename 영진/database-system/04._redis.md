# Contents

```

1. In-Memory Database
    - 개요
    - 등장 배경
    - 특징
        - 싱글스레드의 사용빈도 상승
        - 다양한 자료구조 사용가능

2. Redis
    - 개요
    - 특징
        - atom operation에 유리
        - 영속성
        - LuaScript


```

# Details

# 1. In-Memory Database

## 1.1 개요

### In-Memory DB

![](https://camo.githubusercontent.com/6c5632bd5d2da061da31f8de223d4285f3f3e38eb23319cc378c862dd6d20256/68747470733a2f2f73332d65752d776573742d312e616d617a6f6e6177732e636f6d2f6a752e7075626c69632f676974732e6769746875622e636f6d2f4d617274696e2532304b6c6570706d616e6e2532302d25323044657369676e696e67253230446174612d496e74656e736976652532304170706c69636174696f6e732f466967757265253230312d312e706e67)

데이터를 하드디스크나 다른 보조기억장치에 저장하지 않고
전부 메모리에 저장하는 데이터 베이스

## 1.2 등장배경

1. RAM의 용량 증가와 가격 하락

2. 개발자들의 경험에 따른 업계 노하우 생성

자주 사용되며 변경될 가능성이 낮은 소량 데이터는 메모리에 저장하는 것이 권장되는 분위기가 형성

## 1.3 In-Memory DB의 특징

### 1.3.1 싱글스레드가 흔하게 사용됨

- 병렬처리의 단점

      - 많은 작업을 짧은 시간 내에 수행하기 위해 고안되었으나,
      작업 충돌을 방지하기 위해 복잡한 기술이 필요

        - 세마포어, 뮤텍스, 기타 데드락제어 알고리즘..

- 싱글스레드가 사용되는 이유

  1. RAM과 CPU 성능의 향상으로 인해 싱글 스레드로도 많은 작업을 요구 시간안에 처리가능

  2. 싱글스레드는 순차적으로 작업을 실행하므로, 병렬 처리 기법이 필요없음

  - 동시접근을 제어하여 병행처리의 부작용을 신경써야하는 "Read-Modify-Write" 는 소량의 데이터만 이용하는 작업이 많아 메모리에 충분히 탑재 가능

### 그러나 보조기억장치에서는..

여전히 병렬컴퓨팅이 우세

데이터 분석및 대규모 검색작업은 주로 읽기작업만 수행(Read Only)

- 충돌을 고려하지 않고 안심하고 병렬 컴퓨팅을 활용

### 1.3.2 다양한 자료구조 이용가능

### HDD의 단점

하드 디스크와 SSD 같은 보조 기억 장치의 문제점은 단순히 "읽어오는 데 걸리는 시간"이 아님

하드디스크의 경우 물리적인 구현 형태에 따라 오버헤드가 발생하여 특정사용법 및 자료구조이용이 반 강제됨

1. 하드디스크

- 데이터를 금속 판위에 물리적으로 저장

![width:50%](https://as1.ftcdn.net/v2/jpg/02/13/01/10/1000_F_213011084_F9wtF0PaLoiXiNhSPi0J0qNgaZxi9kSF.jpg)

- 플레터위의 헤드가 실제로 데이터에 접근하여 읽기 및 쓰기를 함

  - 연속접근을 최대한 활용하는 자료 구조가 유리
    - 배열, 연결리스트를 활용할때 강함

<br>

- 정해진 사이즈가 계속 변하는 자료구조를 저장하기엔 불리

  - 연속적으로 저장하므로, 중간에있는 특정 데이터의 크기가 커지는 변화는 대처하기 힘듦

<br>

2. Memory

- 특정 데이터에 물리적으로 직접 접근하지않고 전자적으로 접근

  - 전압 변경으로 데이터를 읽고 쓰고 할 수있음

- 특별히 불리한자료구조가 없음

# 2. Redis

## 2.1 Redis개요

Remote Dictionary server

- 원거리 딕셔너리 서버

database, cache, streaming engine, message broker
등의 역할을 수행할 수있는 In Memory Data Base

### Redis의 역할

- Database

  - 일시적인 데이터, 로그인정보나 세션관련 정보를 저장
  - key:value 순서쌍의 자료를 저장하는 딕셔너리 구조

<br>

- cache

  - 메모리 기반 캐시
  - 캐시기억장치는 `메모리와 보조기억장치의 사이`에 존재하는데,
    레디스는 아예 `메모리`에 존재하는 `소프트웨어`이므로
    일반 캐시기억장치보다 성능도 좋고 기능도 다양함

<br>

- streaming engine

  - 짧은시간안에 입력되는 많은양의 데이터를 처리 및 분석하는 엔진
    - 대표적으로 Apache Kafka를 필두로한 아파치 시리즈가 있음

<br>

- message broker

  - `Pub`lish , `Sub`scribe 기능을 제공
  - 메시지를 발행하거나 ,특정 클라이언트를 구독 할 수있게하여 메시지 통신 중계를 지원

  사용하는 회사

### 특징

1. 다양한 자료구조 제공

   - strings, hashes, lists, sets, sorted sets

2. atomic operation 수행 가능

   - atomic operation?

     - atom: 원자: 최소단위로 사용, 더이상 부서지지 않는 최소의 단위

     - transaction의 atomic operation

       - 여러 연산을 묶어서 전부 수행되거나, 전부 수행되지 않게 함

     - Redis의 atomic operation
       - 아주 간단한 단위연산
       - 문자열을 합치거나, 리스트에 성분을 추가하거나, 특정 값을 증가시키거나 하는등의 작업이 가능

3. Lua Scripting 제공

![](https://play-lh.googleusercontent.com/DBvRY0vvmYMY2CqR07j8URfvhQ0NnS5DjQLOoL_YTXamVzR7zJVw5YYpHdbLNBiRBQ)

내부에서 Lua Script라는 인터프리터 언어로 스크립트 코드를 짤 수있음

- Lua Script: C또는 C+로 짜인 프로그램에 포함시키기 쉬운 스크립트 언어

  - 보통 Script는 프린트된 결과물이아닌, 손으로 쓴 무언가를 일컫음
  - 컴파일이 필요없는 인터프린터언어를 스크립트언어라 부름

### 사용 회사

```
Twitter
GitHub
Snapchat
Craigslist
StackOverflow
```

---

# Question

1. 하드디스크에 데이터를 저장할때보다 Memory에 데이터를 저장할때
   더 자유롭게 자료구조를 선택할 수있는 이유가 무엇인가요?

# Answer

1. Memory가 하드디스크보다 자료구조 선택이 자유로운 이유

하드 디스크는 데이터를 읽거나 쓸 때 플래터 위의 헤드가 물리적으로 저장 위치에 접근해야 하므로순차 접근에 유리한 자료구조를 사용해야 합니다.

메모리는 전자적으로 데이터를 읽고 쓰므로 특정 자료구조의 사용이 강제되지 않습니다.

# Reference
