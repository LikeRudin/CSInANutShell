# CONTENTS

```
    1. 파일 시스템 개요
        - 구성요소
        - 특징

    2. 구조 및 접근방식
        - 파일구조
            - 순차파일
            - 인덱스된 순차파일
            - 직접파일

        - 디스크 공간할당
            - 연속할당
            - 불연속 할당

        - 디렉터리 구조
            - 1단계
            - 2단계
            - 트리/계층 구조
            - 비순환 그래프 구조

```

---

# DETAILS

## 1. 파일 시스템 개요

### 구성요소

필수 역할 및 특징 4가지

1. 접근방법제공 
    - 파일 내 저장 데이터에대한 접근 방식 제공
<br>

2. 파일관리
    - 파일을 저장, 참조, 공유 할 수 있도록 하며 보호기능을 제공
<br>

3. 보조기억장치 관리
    - 파일을 저장하는데 필요한 공간 할당과 관계된 보조기억장치를 관리
<br>

4. 파일의 무결성 보장
    - 파일의 정보가 소실되지 않도록 함

<br>

### 특징


운영체제의 주요 구성요소로서, 파일 관리자 file manager 라고 부르기도 함

파일에 의해 사용되는 자원을 관리, 파일을 생성, 수정, 삭제, 또는 파일에 대한 접근을 제어
- 즉, CRUD와 관련된 작업을 한다고 보면됨

프로세스관리자, 메모리관리자, 장치관리자와 더불어 Kernel 영역에서 동작하는 운영체제의 4대 구성요소임


## 2. 구조 및 접근방식

### 파일 구조: file organization

파일을 구성하는 레코드들이 보조 기억장치에 배치되는 방식

- 순차파일 (sequential file)
    - 레코드가 물리적 순서에따라 저장되어있는 파일
    - 다음레코드라 하면 실제로 해당레코드의 바로뒤에 저장
            ![](https://scaler.com/topics/images/sequential-access-mechanism.webp)

<br>

- 인덱스된 순차파일 (indexed sequential file)
    - 각 레코드의 키를 기준으로 하는 논리적 순서대로 레코드가 배열된 파일
    - 순차적으로 엑세스 될 수도있고, 인덱스 검색도 가능
    - 배열을 생각하면 이해하기 쉬움
            ![](https://scaler.com/topics/images/indexed-sequential-access-mechanism.webp)


<br>

- 직접파일 (direct file)
    - 레코드가 직접 액세스 기억장치 (Direct Access Storage Device)의 물리적 주소를 통해 직접 엑세스 되는 파일
    - 특정 응용에 적합한 순서로 레코드를 DASD에 저장
    - 사용자는 기억장치에대한 지식이 있어야함
    ![](https://scaler.com/topics/images/direct-access-mechanism.webp)

### 디스크 공간할당

1. 연속할당기법 contiguous allocation

파일을 보조기억장치의 연속된 공간에 할당하는것

- 생성하려는 파일의 저장공간의 크기를 미리 정해야함
- 그 크기만큼의 연속 공간이 남아있지않다면, 파일생성불가
- 엑세스 시간이 짧음
- 파일의 디렉토리 구현이 수월
    -각 파일의 시작주소와 파일 길이만 유지하면 됨
- 외부 단편화 문제가 있음
    - 주기적인 집약(compaction) 작업이 필요

- 파일의 크기가 시간에따라 증가하는경우, 불리한 방식


2. 불연속 할당기법 noncontiguous allocation

파일을 보조기억장치의 불연속된 공간에 나눠 할당하는것

- 파일의 크기가 시간에따라 커질떄 대처하기 수월함

- 섹터, 또는 정해진 수의 섹터로 구성된 블록단위로 공간을 할당

- 파일의 크기가 커지면 (한 파일에 추가데이터가 생기면)
이미 존재하는 공간에 파일을넣고, 그곳에 공간이없다면 가장 가까운 거리의 블록에 나머지 부분을 할당한 후 포인터로 연결

- 블록체인, 인덱스 블록체인, 블록지향 사상기법등의 방벙으로 구현

- 단편화 및 파일 확장 문제에서 해방됨

- 하지만 연속된 레코드들을 검색하는것보다 성능이 좋지않고, 포인터 관리를 위한 연산 및 공간이 추가적으로 필요

### 디렉터리 구조

각 레벨은 여러명의 사용자에게 다른방법으로 이름공간(namespace) 혹은 모듈화된 공간을 배분

### 1단계

![](https://media.geeksforgeeks.org/wp-content/uploads/222-13.png)

모든 사용자가 접근하는 파일들은 전역 네임스페이스를 공유한다.

- 중복되는 이름의 파일 생성 불가

장점 
- 구현이 쉽고, 빠른 응답을 제공할 수있음
- 구조가 단순하여 확장성이 좋음
- 중복된이름의 파일은 어디에도 존재하지않으므로, 오류발생 확률이 적음

단점 및 한계
- 같은 타입의 파일을 그룹지어 보관할 수없음
- 이름 중복 불가로 불편함


### 2단계

![](https://media.geeksforgeeks.org/wp-content/uploads/20230620202955/d1.png)


사용자에게 개인 유저 디렉토리 (User Files Directory)를 제공

장점

- 유저끼리 개인공간을 가지게됨
    - 이름 충돌해결
    - 파일 보안이 좋아짐


단점 및 한계

- 유저끼리 파일을 공유하기 힘듬
- 개인 파일을 생성할 수 있으나, 서브 디렉토리는 생성불가
### 트리/계층 구조

![](https://media.geeksforgeeks.org/wp-content/uploads/20230620221412/d2.png)

각 사용자에게 개인 디렉토리 UFD를 제공은 물론
서브 디렉토리도 생성기능도 제공

오늘날 대부분의 개인 컴퓨터가 사용하는 방식

장점
- 파일 분류가 쉬워짐
- 파일 검색도 수월함

단점
- 파일 공유가 어려움
- 개인의 서브디렉토리 관리역량에따라 검색 작업이 복잡해질 수있음
- 유저는 root 디렉토리를 변경할 수없음

### 비순환 그래프 구조

![](https://media.geeksforgeeks.org/wp-content/uploads/20230620221731/d3.png)

하나의 파일에 여러 디렉토리에서 접근할 수있는, 앞선 개인디렉토라의 단점을 해결한 구조

장점
- 파일공유가 쉬움
- 파일검색이 아주 쉬움

단점
- 구현이 어려움
- 사용자는 자신의 파일조작이 전체 시스템에 영향을 줌을 염두하고, 조심스레 작업해야함
- 파일 하나를 영구적으로 삭제하고싶다면, 해당 파일에대한 참조도 전부 삭제해야함


---

# QUESTION


---

# ANSWER
