# CONTENTS
```
    1. 운영체제의 등장
        - 운영체제가 없던 시절의 문제
        - 운영체제의 역할
        - 모드
            - 보호모드
            - 슈퍼바이저 모드

    2. 시스템 호출
        - 정의
        - 종류
            - fork
            - wait
            - exit
```
---
# DETAILS



## 1. 운영체제의 등장

### 운영체제가 없던 시절의 문제점.

하드웨어의 제어를 응용프로그램이 직접 수행

- 소프트웨어 제작자가 하드웨어를 상세히 이해해야함
- 하나의 하드웨어가 여러 소프트웨어를 실행시, 자원분배 문제로 원활한 실행이 되지않음.


### 운영 체제의 역할

하드웨어 제어 수행
- 응용프로그램이 하드웨어 조작을 필요로 할시, 운영체제에게 위임(시스템 호출)

![](https://www.guru99.com/images/1/121119_0451_SystemCalli1.png)

### 모드

- 보호 모드 (Protection Mode)
    - 사용자 모드에서 응용 프로그램이 동작하는 모드

- 슈퍼바이저 모드 (Supervisor Mode, or Kernel Mode)
    - CPU의 명령어를 직접 사용하여 커널을 조작, 하드웨어를 제어하는 모드

![](https://www.studytonight.com/operating-system/images/system-calls.png)

## 2. 시스템 호출 

### System Call (시스템 호출)

응용프로그램이 하드웨어 제어를 위해 운영 체제에 서비스를 요청하는 메커니즘


### 시스템 호출의 요구사항

- 인터페이스 Interface
    - 시스템 호출은 응용 프로그램과 OS 사이의 인터페이스로 작용
        - 프로그램은 특정 함수통해 시스템 호출을 생성
        - 운영체제는 요청받은 서비스를 실행 후 결과를 반환
- 보호 Protection
    - 시스템 호출은 특장 작업에 접근 할 수있는 특권이 있음.
    - 일반 응용프로그램이 접근할 수 없는곳을 두어, 보호기능을 제공

- 문맥교환 Context Switching
    - 시스템 호출은 문맥교환을 요구함.
    - 현재 실행중인 프로세스의 상태를 저장하고, 커널모드로 전환하여 요청받은 서비스를 실행
    - 오버헤드가 발생함
    
- 오류제어 Error Handling
    - 시스템 호출은 문제발생을 암시하는 오류코드를 반환함
    - 프로그램은 요청한 서비스가 수행되지 않을시 해당 오류코드를 통해 적절한 예외처리를 해야함

- 동기화 Synchronization
    - 시스템 호출은 네트워크나 파일같은 공유자원에 동기화된 접근을 제공함
    - 운영체제는 lock이나 semaphore같은 동기화 메카니즘을 제공
        - 응용프로그램이 각 자원에 안전하게 접근하게 하는 역할을 함

### 시스템 호출이 제공하는 서비스

- 프로세스 생성, 관리
- 메인메모리 관리
- 파일, 폴더 접근 및 시스템 관리
    - 만들기, 열기, 닫기, 읽기
- 외부장치 인터럽트 처리
- 보호


|기능|메서드 목록|
|--|--|
|프로세스 생성 및 관리 |Fork()<br/>Exit() <br/> Wait()|
|파일, 폴더 조작| Open()<br/>Read()<br/>Write()<br/>Close()|
|장치관리| Ioctl()<br/>Read()<br/>Write()|
|프로세스 정보 관리|Getpid()<br/>Alarm()<br/>Sleep()
|커뮤니테키션| Pipe() <br/>Shmget() <br/>Mmap()|
|보호|Chmod() <br/>Umask() <br/>Chown()|

### 프로세스 생성 명령어

![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRju9zYOvguWwrgFGmr_dCqLvGxaqDu6tyQ7s5wXWAu43oXS7BZ3ga9HOOcBlslR4Srw9U&usqp=CAU)

### fork()

새로운 프로세스를 생성하는 시스템 호출
부모 프로세스가 호출하면 자식 프로세스가 생성
-  프로세스 ID (PID) 만 다른 거의 동일한 복사본을 생성
-  생성 후 부모 프로세스와 자식 프로세스는 독립적으로 실행
### wait()

- 부모 프로세스가 자식 프로세스가 종료될 떄까지 
작업을 중지하고 기다리게 하는 시스템 호출

- 자식 프로세스 종료시 종료상태수집 
### exec()

프로세스가 실행 중인 코드를 다른 프로그램으로 교체하는 시스템 호출
- 프로세스는 새로운 프로그램을 실행
- 새로운 프로그램을 시작하기전 코드 세그먼트, 힙, 스택 및 다른 메모리 영역을 초기화

---

# QUESTION

1. 운영체제의 시스템 호출은 왜 필요한가요?


2. 운영체제 없이 응용프로그램이 하드웨어 자원을 직접 제어하게 하면 어떤 문제점이 발생하나요?

---

# ANSWER

1. 운영체제가 도입되면서 응용프로그램이 하드웨어에 직접 접근이 불가능해졌습니다.
그러므로 하드웨어에 접근하고싶으면 운영체제에 작업을 요청해야하는데, 시스템 호출이 그 작업요청 그 자체입니다.

2. 일단 응용프로그램을 설계하는사람이 개별적인 하드웨어에대해 박식하게 알고있어야하므로, 생산성이 엄청나게 저하됩니다. 그리고 한 혹은 한명의 사람이 여러 소프트웨어를 설계한것이 아닌이상, 하나의 하드웨어로 여러개의 소프트웨어를 실행하게되면필연적으로 자원에대한 충돌이발생하여 프로그램이 제대로실행되지않습니다.

---
출처:
https://www.geeksforgeeks.org/introduction-of-system-call/