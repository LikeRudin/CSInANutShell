# CONTENTS
```
IPC
    - 1. IPC 개요
        - 필요한 이유

    - 2.통신기법   
        - 공유장치 기법
        - 메시지 시스템 기법
            - 직접 통신
            - 간접통신
            - 링크용량
            - 예외조건

```
---

# DETAILS

## 1. IPC 개요

IPC(Inter Process Communication)
내부 프로세스간 통신

### 필요한 이유

병행 프로세스 시스템에서도 프로세스는 기본적으로 독립적으로 실행된다.
하지만 자원의 동시접근 등에대한 문제를 해결하기위해 관련 정보를 통신으로 주고받을 필요가있다.

## 2. 통신기법

### 공유장치 기법

통신하는 프로세스간 어떤 변수를 공유하도록 하여, 해당 변수를 통해
정보를 교환하도록 하는 방식

프로그램에서의 전역변수같은 느낌

- 특징
    - 고속통신가능
    - 원활한 실행에 관련한책임은 응용프로그래머에게 있음

### 메시지 시스템 기법

프로세스간 통신링크를 구성하여 공유변수 없이 
통신을 가능케 하는 기법

프로세스들은 해당 통신 링크와
`send`, `recieve` 등의 연산자를 통해  메시지를 주고받음


### 통신링크 고려사항 및 메시지 송수신 기법

- 통신링크 구현시 고려사항
    - 링크 설정방식
    - 동시 연결되는 프로세스 수
    - 두 프로세스사이의 링크 개수,
    - 링크 용량
    - 링크가 처리하는 메시지 용량
    - 링크 방향: 양방향, 단방향

- 메시지 송수신 기법
    - 직접통신 /간접통신

    - 전송위치: 프로세스/ 우편함
    
    - 형평성: 대칭/비대칭
    
    - 버퍼링: 자동적 / 명시적
    
    - 전송할 데이터: 복사/ 참조
    
    - 메시지 크기 고정: 고정 / 가변

### 직접통신

각 프로세스끼리 직접 메시지를 전송하는 방법

- send와 recieve의 인자 구성
```js

//P에게 message 전송
send(P, message) 
// Q에게서 message 수신
recieve(Q, message)
```

- 직접통신 통신링크의 성질
    - 통신을 원하는 프로세스간에 자동적으로 생성됨
        - 서로 신원을 확인하는 방법이 있어야함
    - 하나의 링크는 두 프로세스와 만 연결
    - 링크는 양방향

- 단점
    - 모듈성이 낮다
    - 서로가 모든 프로세스 신원을 알아야한다.
        - XX 아파트 경비실이아니라 개인 호수를 다 기록해야함

### 간접통신

 우편함(mailbox, ports)를 통해 프로세스간 message 교환을 구현하는 방식

우편함은 여러개일수있으며, 각 우편함은 고유이름을 갖음
프로세스는 공유 우편함을 가질때만 통신할 수있음

```js
// A 우편함에 message 전송
send(A, message);
// A 우편함에 있는 message 읽기
recieve(A, message);
```

- 간접통신 통신링크 성질
    - 공유 우편함을 보유한 프로세스 사이에만 링크가 형성
    - 하나의 링크가 2개이상의 프로세스에게 이용될 수있음
    - 각 통신 프로세스 쌍 사이에 여러개의 링크가 존재가능
    - 링크 방향은 단방향/ 양방향

- 특징
    - 운영체제 소유의 독립 우편함을 소유
    - 우편함은 프로세스에의해 생성됨, 소유권 및 수신권은 다른 프로세스에게 이전 가능
    - 프로세스 종료시 소유 우편함도 제거

### 링크용량

링크의 용량은 저장되는 메시지 수를 결정

메시지는 메시지 큐로 구현, 보통 큐 안에 담을수있는 메시지 개수를 정수로 표현

0 용량: 큐의 최대길이가 0
    - 우편함 내부에 메시지를 저장안함
    - 발신인은 수신인의 수신시각을 확인하고, 약속된시간에 발신-수신을 수행
        - 이러한 동기화를 랑데부라고함

n 용량: 큐의 최대길이가 n
    - 우편함이 메시지를 최대 n개까지 보관
    - 만약 n개의 메시지가 저장되있다면 송신인은 송신불가
        - 메시지가 줄어들 때 까지 기다려야함

무제한 용량: 큐의 길이에 제한을 두지않음
    - 송신인은 언제나 마음껏 메시지 전송가능
    - 수신인이 메시지를 수신했음을 확인하는 통신을 해야함

### 예외조건 

메시지 처리 과정에서 생기는 오류 발생 가능성이 있는 상황들

1. 프로세스 종료
    - 송/수신 프로세스가 메시지를 송/수신 전에 종료시, 
    남은 프로세스는 영원히 서로를 기다릴 수있음
        - 대응방안
            - 프로세스 종료시, 그 사실을 통보

2. 메시지 상실
    - 하드웨어나 통신라인 고장에 의해 메시지 유실
        - 대응방안
            - 운영체제가 탐지, 메시지 재전송
            - 운영체제가 탐지, 송신자에게 통보
                - 송신자는 필요시 메시지 재전송
            - 송신자가 탐지, 필요시 메시지 재전송
    

3. 메시지 혼합
    - 메시지에 잡음이 뒤섞이는 경우가 있음
        - 대응방안
            - 운영체제가 메시지를 재전송
            - 운영체제는 프로세스에게 오류발생을 통보 프로세스가 필요시 메시지전송을 재요청
---

# QUESTION

내부 프로세스간 통신이 필요한 구체적이유가 무엇인가요?
컴퓨터 자원과 관련지어 설명해주세요.

# ANSWER